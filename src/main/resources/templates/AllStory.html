<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" th:href="@{/css/ThemeDetailPage.css}" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap" rel="stylesheet" />
    <title>SoT</title>
</head>
<body>
<!--네비게이션 바-->
<!--<nav class="navbar">-->
<!--  <div class="nav_logo">-->
<!--    <div id="nav_left">-->
<!--      <div id="nav_logo1">-->
<!--        <a th:href="@{/test}">-->
<!--          <img th:src="@{/images/MainLogo.png}" alt="로고" width="200px" height="46px">-->
<!--        </a>-->
<!--      </div>-->
<!--      <div class="nav_menu">-->
<!--        <ul class="navigation">-->
<!--          <li><a th:href="@{/test}" class="b">홈</a></li>-->
<!--          <li><a href="" class="c">지역</a></li>-->
<!--          <li><a href="" class="c">북마크</a></li>-->
<!--        </ul>-->
<!--      </div>-->
<!--      <form action="/search" method="get" id="search">-->
<!--        <input type="text" name="query" class="search">-->
<!--        <img th:src="@{/images/search.png}" alt="돋보기" width="30px" height="30px">-->
<!--      </form>-->
<!--    </div>-->
<!--    <div id="nav_right">-->
<!--      <input type="button" id="uploadbtn">-->
<!--      <input type="button" class="imagebtn" onclick="location.href='/my-page'">-->
<!--      <input type="checkbox" id="join" style="display: none;">-->
<!--      <label for="join" id="loginLabel" onclick="togglePopup('loginPopup')">로그인</label>-->
<!--      <form action="/logout" method="post" style="display:inline;">-->
<!--        <button type="submit">로그아웃</button>-->
<!--      </form>-->
<!--    </div>-->
<!--  </div>-->
<!--</nav>-->

<!-- 팝업창들 -->
<div th:replace="fragments/upload_popup :: uploadPopup"></div>
<div th:replace="fragments/login_popup :: loginPopup"></div>
<div th:replace="fragments/join_popup :: joinPopup"></div>
<div th:replace="fragments/terms_popup :: termsPopup"></div>
<div th:replace="fragments/privacy_popup :: privacyPopup"></div>

<!-- 모든 스토리 -->
<div id="themeStoryfull">
    <div id="themeStory">
        <div id="themeStoryTitle">
            <div id="themestorytitle_1">
                <h2 class="themetitle1">모든 스토리</h2>
            </div>
            <div id="themestory_select">
                <form action="#" method="get">
                    <select name="sort" id="story_select" onchange="this.form.submit()">
                        <option value="" class="select_disabled" disabled selected>정렬기준</option>
                        <option value="likes" th:selected="${sortCriteria == 'likes'}">추천순</option>
                        <option value="recent" th:selected="${sortCriteria == 'recent'}">최신순</option>
                        <option value="views" th:selected="${sortCriteria == 'views'}">조회순</option>
                    </select>
                </form>
            </div>
        </div>

        <div id="back">
            <div class="stories" id="stories" th:each="story, iterStat : ${stories}">
                <div class="story">
                    <a th:href="@{/story/{storyId}(storyId=${story.storyId})}">
                        <img id="storyimage" th:src="${story.image_url}" alt="Story Image" />
                        <div id="storyTitlefull">
                            <p id="storyTitle" th:text="${story.title}">Story Title</p>
                            <img th:src="@{/images/seeimg.png}" class="seeimage" width="16px" height="16px" />
                            <p class="seeimagetext" th:text="${story.viewCount}">0</p>
                            <img th:src="@{/images/likeimg.png}" class="likeimage" width="14px" height="14px" />
                            <p class="likeimagetext" th:text="${story.likes.size()}">0</p>
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- 테마별 상세페이지 스토리 끝 -->
</body>

<script th:src="@{/js/ThemeDetailPage.js}"></script>
<script th:src="@{/js/Home.js}"></script>
</html>
