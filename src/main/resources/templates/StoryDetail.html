<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="/static/css/storyPopup.css" />
  <link
          rel="stylesheet"
          type="text/css"
          href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css"
  />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
          href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap"
          rel="stylesheet"
  />
  <title>게시물 상세페이지</title>
</head>
<body>

<!-- 팝업창 -->

<button onclick="showPopup()">Show Popup</button>

<div class="bg_gray9" id="bg_gray9">
  <div id="close">
    <img
            src="../static/images/closebtn.png"
            alt="X"
            width="28px"
            height="28px"
            onclick="closePopup()"
    />
  </div>
  <div class="container">
    <div class="image-container">
      <img id="image" src="../static/images/StoryDetail.png" alt="image">
    </div>
    <div class="story-etc">
      <div class="story-text">
        <p class="Detail_name">서울 봉은사</p>
        <div id="story_">
          <p class="Detail_address">서울특별시 강남구 봉은사로 531</p>
          <button
                  type="button"
                  class="Story_map"
          >지도보기</button>
        </div>
        <p class="Detail_text">23년 5월 부처님오신날 진행했던 연등축제입니다.</p>
      </div>
      <div id="del_to_book">
        <button
                type="button"
                class="Story_del"
        ></button>
        <button
                type="button"
                class="Story_like"
        ></button>
        <button
                type="button"
                class="Story_book"
        ></button>
      </div>
      <div class="tag">
        <div class="tag1">
          <p class="tag1_text"># 축제</p>
        </div>
        <div class="tag2">
          <p class="tag2_text"># 연등</p>
        </div>
      </div>
      <div class="profile">
        <div class="Profile_Image">
          <button class="profile_1">
            <img class="profile_2" src="../static/images/popular1.png" width="42" height="42" alt="Button Image" style="border: none; cursor: pointer; outline: none; background-color: #FFF;">
          </button>
        </div>
        <div class="profile_text">
          <p class="profile_name">Olivia2</p>
          <p class="profile_follow">팔로워 202명</p>
        </div>
      </div>
      <button
              type="button"
              class="related"
      ><b>'서울 봉은사'</b> 관련 스토리 1건 보러가기</button>
    </div>
  </div>
</div>



<script>
  function showPopup() {
    document.getElementById("bg_gray9").style.display = "block";
  }
  function closePopup() {
    document.getElementById("bg_gray9").style.display = "none";
  }

  function adjustImageSize() {
    const container = document.querySelector('.container');
    const bg_gray9 = document.querySelector('.bg_gray9');
    const related = document.querySelector('.related');
    const image = document.getElementById('image');

    const imageWidth = image.naturalWidth;
    const imageHeight = image.naturalHeight;

    let newWidth, newHeight;

    if (imageWidth < imageHeight) {
      newWidth = 390;
      newHeight = (imageHeight / imageWidth) * 390;
    } else {
      newHeight = 350;
      newWidth = (imageWidth / imageHeight) * 350;
    }

    image.style.width = `${newWidth}px`;
    image.style.height = `${newHeight}px`;

    container.style.width = `${newWidth}px`;
    container.style.height = `${newHeight + 295}px`;

    bg_gray9.style.height = `${newHeight + 610}px`;

    related.style.width = `${newWidth}px`;
  }

  window.onload = adjustImageSize;
  window.onresize = adjustImageSize;

</script>
</body>